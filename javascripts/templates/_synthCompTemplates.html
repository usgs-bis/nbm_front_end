<script id="noDataTemplate" type="text/x-jsrender">
    <div class="contextHeader" style="padding-top:10px;">
        {{:message}}
        {{if bapHtml}}
            <div style="margin:30px 0 5px;">Reports contain these analyses:</div>
            {{:bapHtml}}
        {{/if}}
    </div>
</script>

<script id="emptySynthesisCompositionTemplate" type="text/x-jsrender">
    <div class="contextHeader" style="padding-top:10px;">
        {{if message}}
            {{:message}}
        {{else}}
            Please click somewhere to populate this report.
        {{/if}}
        <div class="bapList" ></div>
    </div>
</script>

<script id="emptySynthCompBapListTemplate" type="text/x-jsrender">
    {{:html}}
</script>

<script id="bapListTemplate" type="text/x-jsrender">
    {{for baps}}
        <div style="padding:10px 0 0 10px;">{{:title}}</div>
    {{/for}}
</script>

<script id="synthesisCompositionDetailsTemplate" type="text/x-jsrender">
<div >
{{if title}}
    <h1 class="panelTitle" style="font-size: 28px;">{{:title}}
        <span class=" modifiedPoly glyphicon glyphicon glyphicon-unchecked " aria-hidden="true" 
            onclick="actionHandlerHelper.showSimplifiedJson(false)" data-toggle="tooltip" data-placement="top" 
            title="View the modified polygon used for analysis." style="display:none;">
        </span>
    </h1>
{{/if}}
{{if type}}
<div class="generalInfo">
        <span class="summaryHeader">Category: </span>{{:type}}
    </div>
{{/if}}
{{if acres}}
    <div id="synthCompAcres" class="generalInfo">
        <span class="summaryHeader">{{if approximate}}Approximate {{/if}}Area: </span>{{:acres}} acres
    </div>
{{/if}}

</div>
</script>

<script id="headerBapSpinner" type="text/x-jsrender">
<div >
 <div class="spinnerContainer" style="margin-bottom: 20px;"><i class="fa fa-spinner fa-pulse"></i></div>
</div>
</script>

<script id="synthesisCompositionDetailsError" type="text/x-jsrender">
<div >
 <div class="generalInfo">
        <span class="contextHeader">{{:error}}</span>
    </div>
</div>
</script>

<script id="bapErrorInfo" type="text/x-jsrender">
        <div class="layerExpander contextHeader">
        <span class="bapTitle">{{:error}}<br>Analysis Package ID: {{:id}}</span>
        </div>
</script>

<script id="widgetErrorInfo" type="text/x-jsrender">
        <span class="bapTitle">{{:error}}</span>
</script>

<script id="widgetErrorInfoTitle" type="text/x-jsrender">
    <div id="{{:id}}{{:bap}}error">
        <div class="contextSubHeader subHeaderTitle" style=" color: rgb(204, 204, 204); line-height: 20px; font-size: 17px; margin-top: 30px; margin-left: 20px; margin-right: 20px; ">{{:title}}</div>
        <br>
        <div class="bapTitle"> 
            <span class="fa fa-circle fa-first" aria-hidden="true" style="color: red; opacity: .8;"></span>
            <span class="glyphicon glyphicon-exclamation-sign exclamation" aria-hidden="true"></span>
            <span>{{:error}}</span>
         </div>
    </div>
</script>

<script id="synthesisCompositionHeaderTemplate" type="text/x-jsrender">
    {{if reportJsonUrl}}
        <div class="buttonBar" style="margin-bottom:10px;">
            <button id="copyToClipboard" class="btn-xs" data-toggle="tooltip" title="Share this map by copying the URL to your clipboard.">
                <!-- <span class="glyphicon glyphicon-copy bootstrapGlyph" aria-hidden="true"></span> -->
                Share
            </button>
            <button id="buildReportPdf" class="btn-xs" data-toggle="tooltip" title="Only expanded sections will appear in the PDF and all user selections/filters will be reflected.">
                <!-- <span class="glyphicon glyphicon-save bootstrapGlyph" aria-hidden="true"></span> -->
                Report
            </button>
            <!-- <button id="ExploreProject" class="btn-xs" data-toggle="tooltip" title="Something will happen whent his button is clicked">
                <span class="glyphicon glyphicon-eye-open bootstrapGlyph" aria-hidden="true"></span>
                Explore
            </button> -->
            <a class="grayLink" target="_blank" href="{{:reportJsonUrl}}">
                <button class="btn-xs" data-toggle="tooltip" title="View this report as JSON.">
                    <span class="glyphicon glyphicon-th-list bootstrapGlyph" aria-hidden="true"></span>
                    View JSON Report
                </button>
            </a>
        </div>
        <div style="clear:both"></div>
    {{/if}}
</script>

<script id="buttonBar" type="text/x-jsrender">
        <div class="buttonBar" style="margin:10px; margin-top: 5px;">

            <button id="copyToClipboard" class="btn-xs" data-toggle="tooltip"  data-placement="top" title="Share this map by copying the URL to your clipboard.">
                <!-- <span class="glyphicon glyphicon-copy bootstrapGlyph" aria-hidden="true"></span> -->
                Share
            </button>
            <button id="buildReportPdf" class="btn-xs" data-toggle="tooltip"  data-placement="top" title="Only expanded sections will appear in the PDF and all user selections/filters will be reflected.">
                    <span class="glyphicon glyphicon-save bootstrapGlyph" aria-hidden="true"></span>
                Report
            </button>
            <!-- <button onclick="actionHandlerHelper.showSimplifiedJson(false)"
                    class="btn-xs" data-toggle="tooltip" data-placement="top" title="View the modified polygon used for analysis.">
                    <span class="glyphicon glyphicon glyphicon-unchecked bootstrapGlyph" aria-hidden="true"></span>
                Polygon
            </button> -->
            <!-- <button id="ExploreProject" class="btn-xs" data-toggle="tooltip" data-placement="top" title="Something will happen when this button is clicked">
                <span class="glyphicon glyphicon-eye-open bootstrapGlyph" aria-hidden="true"></span>
                Explore
            </button> -->
            {{if viewJson}}
            <button onclick='actionHandlerHelper.viewSynthCompJson()' class="btn-xs" data-toggle="tooltip" title="View this report as JSON.">
                <span class="glyphicon glyphicon-th-list bootstrapGlyph" aria-hidden="true"></span>
                View JSON Report
            </button>
            {{/if}}
        </div>
        <div style="clear:both"></div>
</script>

<script id="bapSpinner" type="text/x-jsrender">
<div class="spinnerContainer"><i class="fa fa-spinner fa-pulse"></i></div>
</script>

<script id="emptyBapTemplate" type="text/x-jsrender">
<div id="{{:id}}BapCase">
<div class="spinnerContainer"><i class="fa fa-spinner fa-pulse"></i></div>
</div>
</script>

<script id="bapSectionTemplate" type="text/x-jsrender">
<div id="{{:id}}BapCase">

<div class="layerExpander contextHeader" data-section="{{:id}}BAP">
<div style='width: calc(100% - 45px);'>
<span id="{{:id}}BAPControl">{{if openByDefault}}&#9660;{{else}}&#9658;{{/if}}</span>
        <span class="bapTitle">{{:title == "Pheno Forecasts" ? "Phenology Forecasts" : title}}</span>
        {{if hasInfoDiv}}
        &nbsp;
            <div id="{{:id}}" class="moreInfo" style="display: inline-block;white-space:nowrap;">
                <i class="fa fa-circle fa-first" aria-hidden="true"></i>
                <i class="fa fa-info-circle fa-second" aria-hidden="true"></i>
            </div>
        {{/if}}
        <div id="priorityBapInput{{:id}}" class="priorityBap">
            <label class="clickSearch">
                    <input id="priorityBap{{:id}}" type="checkbox" class="clickSearchRadio" />
                    <span class=" fa clickSearch-target" data-toggle="tooltip" data-placement="top" title="Make Priority Bap"></span>
            </label>
        </div>

</div>
</div>

    <div id="{{:id}}BAP" class="dropDownContainer" style="{{if !openByDefault}}display:none;{{/if}}">
        <div id="{{:id}}JsonDiv" class ="jsonDiv">
                <button onclick="actionHandlerHelper.showRawJson('{{:id}}')" style='font-size: 10px; display: inline-block; width: 27px; position: relative; left: 5px'
                class="btn-xs" data-toggle="tooltip" data-placement="bottom" title="View the raw JSON used for analysis.">
                    <span class="glyphicon glyphicon glyphicon-console bootstrapGlyph" aria-hidden="true"></span>
                </button>
                <button onclick="actionHandlerHelper.expandBap('{{:id}}')" style='font-size: 10px; display: inline-block; width: 27px; position: relative; left: 5px'
                class="btn-xs bap-expand-button" data-toggle="tooltip" data-placement="bottom" title="Compare charts in a new window.">
                    <span class="glyphicon glyphicon-resize-full bootstrapGlyph" aria-hidden="true"></span>
                </button>
        </div>

        {{if hasInputs}}
            <div id="{{:id}}Inputs">
                
                <div style="cursor: pointer;" id="{{:id}}AnalysisInputsSection" class="contextHeader inputExpander AnalysisInputsSection" data-section="{{:id}}AnalysisInputs">
                    <span id="{{:id}}AnalysisInputsControl">&#9658;</span>
                    Analysis Inputs
                </div>
                <div id="{{:id}}AnalysisInputs" class="bapInputSection">
                    {{for layerInputs}}
                    
                        <div style="display: flex; padding-left: 10px;">
                            <span class="clickSearch" style="margin-right: 10px; {{if hideCheckbox}}display: none;{{/if}}">
                                <label class="clickSearch" style="display: flex;">
                                    <input id="toggleLayer{{:id}}" type="checkbox" class="clickSearch" />
                                    <span class=" fa clickSearch-target" data-toggle="tooltip" data-placement="top" title="Toggle Layer"></span>
                                </label>
                            </span>
                            <span>{{:title == "Habitat Map" ? "Species Habitat" : title}}</span>
                            <span id="{{:id}}layerMoreInfo" style="white-space:nowrap; margin-left: 5px;">
                                <i class="fa fa-circle fa-first hideBaseMapLayer" aria-hidden="true" data-original-title></i>
                                <i class="fa fa-info-circle fa-second layerMoreInfo hideBaseMapLayer" aria-hidden="true" data-layer="{{:divId}}"></i>
                            </span>
                        
                        </div>
                        <div id="opacitySlider{{:id}}" class="sliderContainer opacitySliderBap" >
                            <label>Map Display Opacity</label>
                            <input id="opacitySliderInput{{:id}}" class="opacitySlider" type="range" min="0" value="0.5" max="1"  step=".05" style="display:inline;vertical-align:middle;margin-bottom: -5px;"/>
                        </div>
                 
                    {{/for}}
                </div>
            </div>
        {{/if}}
        {{:sectionHtml}}
        {{:attribution}}
    </div>
</div>
</script>

<script id="rawJsonButtonTemplate" type="text/x-jsrender">
    <div style='width: 100%;'>
        <button onclick="window.open('{{:url}}')" style='font-size: 10px; display: inline-block; width: 27px; position: relative; top: 0; left: 0;'
class="btn-xs" data-toggle="tooltip" data-placement="bottom" title="View the raw JSON used for analysis.">
            <span class="glyphicon glyphicon glyphicon-console bootstrapGlyph" aria-hidden="true"></span>
        </button>
</div>
</script>

<script id="pixelHierarchyPlaceholder" type="text/x-jsrender">
    <div id="hierarchyChart{{:id}}"></div>
</script>
<script id="hierarchyTablePlaceholder" type="text/x-jsrender">
    <div id="hierarchyTable{{:id}}"></div>
</script>

<script id="identifyUnitTemplate" type="text/x-jsrender">
    <div class=" contextHeader hierarchyExpanders" data-section="identify{{:id}}"
    {{if isOn}}style="color:orange; font-weight: bold; font-size: 14px; padding: 7px 4px 7px 4px; min-height: 30px; {{if !isLast}}border-top: 1px solid rgba(245,245,245,.2);{{/if}}"
    {{else}}style="color:rgb(204, 204, 204); font-weight: normal; font-size: 14px; padding: 7px 4px 7px 4px; min-height: 30px; {{if !isLast}}border-top: 1px solid rgba(245,245,245,.2);{{/if}}"{{/if}}>
        <span id="identify{{:id}}Control">&#9658;</span>
        {{:type}}: {{:code}} {{:title}}
    </div>
    <div id="identify{{:id}}" class="dropDownContainer" style="display:none;">
        {{if description}}
            {{:description}}
        {{else}}
            No description available.
        {{/if}}
    </div>
    {{if additionalHtml}}
        <div>
            {{: additionalHtml}}
        </div>
    {{/if}}
</script>



<script id="boxAndWhiskerTemplate" type="text/x-jsrender">
    <div class="bapChart">
        <div class="bapHeader">
            <div class="row" style="margin-top: 35px;">
                    <div class="col col-md-12 ">
                        <div id="bapRangeSlider"  class="sliderLabelCenter centerDiv"> Analyze Time Period: {{: min}} to {{: max}} </div>
                        <div class= "centerDiv" style="margin-top:10px;"> <button id="getData" class="btn-xs ">Submit</button> </div>
                    </div>
                </div>
        
                <i id="bapSpinner" class="fa fa-spinner fa-pulse spinnerContainer" style="display:none;"></i>
                <div id="boxAndWhiskerError"></div>
            </div>
        </div>

        <div id="boxPlot{{:id}}" class="boxPlot" style="display:none;">
            
                <div id="boxPlotTitle" class = " ridgeLinePlotTitle contextSubHeader subHeaderTitle" ></div>
                <div id="boxPlotSubTitle" class = " ridgeLinePlotSubTitle contextSubHeader subHeaderTitle" ></div>
                <div id ="boxPlotChart{{:id}}" class="myNpnInfo" style="width:100%;height:500px;"></div>
        </div>
    </div>

</script>

<script id="phenocastTemplate" type="text/x-jsrender">
    <div class="bapChart">
        <div class="bapHeader">
            <div class="row" style="margin-top: 35px;">
                    <div class="col col-md-12 ">
                        <div id="bapRangeSlider"class= "sliderLabelCenter centerDiv" style="margin-top:10px;">
                            <button id="getData" class="btn-xs ">Get Phenology Forecast</button>
                        </div>
                    </div>

                <i id="bapSpinner" class="fa fa-spinner fa-pulse spinnerContainer" style="display:none;"></i>
                <div id="boxAndWhiskerError"></div>
            </div>
        </div>

        <div class="chartHolder">
        </div>
    </div>

</script>

<script id="phenocastChartTemplate" type="text/x-jsrender">
</script>

<script id="histogramTemplate" type="text/x-jsrender">
    <div class="bapChart">
        <div id="histogramPlot{{:id}}" class="histogramPlot" style="display:none;">        
                <div id="histogramTitle" class = " ridgeLinePlotTitle contextSubHeader subHeaderTitle" ></div>
                <div id="histogramSubTitle" class = " ridgeLinePlotSubTitle contextSubHeader subHeaderTitle" ></div>
                <div id="histogramChart{{:id}}"></div>
        </div>
    </div>
        
</script>

<script id="smoothPlotTemplate" type="text/x-jsrender">
    <div class="bapChart">
    <div>
        <div id="{{:divId}}{{:id}}" class="ridgeLinePlot" style="display:none;">
       
            <div id="{{:divId}}Title" class = " ridgeLinePlotTitle contextSubHeader subHeaderTitle" ></div>
            <div id="{{:divId}}SubTitle" class = " ridgeLinePlotSubTitle contextSubHeader subHeaderTitle" ></div>
            <div id ="{{:divId}}Chart{{:id}}"></div>
   
    <div class="ridgeLinePlotNumberPicker ridgeLinePlotNumberPickerDiv slidecontainer" >
            <div style="margin-bottom: 10px;">Binwidth: <span class="ridgeLinePlotRangeValue"></span> </div>
            <input type="range" min="1" max="8" value="3" class="slider ridgeLinePlotRange" 
            data-toggle="tooltip" data-placement="top" title="The number of datapoints = 365/{Bucket Size} ">
    </div>
</div>
</div>
</script>

<script id="comparePlotTemplate" type="text/x-jsrender">
    <div class="bapChart">
    <div>
        <div class="row" style="margin-top: 35px;">
                <div class="col col-md-12 ">
                    <div id="bapRangeSlider"  class="sliderLabelCenter centerDiv"> Analyze Time Period: {{: min}} to {{: max}} </div>
                    <div class= "centerDiv" style="margin-top:10px;"> <button id="getData" class="btn-xs ">Submit</button> </div>
                </div>
            </div>
    
            <i id="bapSpinner" class="fa fa-spinner fa-pulse spinnerContainer" style="display:none;"></i>
            <div id="comparePlotError"></div>
        </div>

        <div id="{{:divId}}{{:id}}" class="ridgeLinePlot comparePlot" style="display:none;">
           
                <div id="{{:divId}}Title" class = " ridgeLinePlotTitle contextSubHeader subHeaderTitle" ></div>
                <div id="{{:divId}}SubTitle" class = " ridgeLinePlotSubTitle contextSubHeader subHeaderTitle" ></div>
                <div id ="{{:divId}}Chart{{:id}}" class="comparePlotChart"></div>
        </div>
    </div>
</script>

<script id="unknownBapTemplate" type="text/x-jsrender">
    <strong>This is not a recognized Analysis Package.</strong>
</script>

<script id="synthCompBottomBarTemp" type="text/x-jsrender">
    <button id="rightPanelReset" class="btn-xs">Clear this selection</button>
    {{include #data tmpl="#coordinatesTemplate"/}}
</script>

<script id="coordinatesTemplate" type="text/x-jsrender">
    <div class="coordinates">Coordinates clicked: {{:lat}}, {{:lng}}</div>
</script>

<script id="hierarchyTableTemplate" type="text/x-jsrender">
    <div style='font-size: 14px; color: white;'>{{:description}}</div>
    <div class="contextSubHeader subHeaderTitle" style="color: rgb(204, 204, 204); font-weight: normal;">{{:title}}</div>
    <div class='hierarchyTable'>
        <div style='height: 1em;'>
            <span style='float: left; font-size: 14px; color: lightblue; font-weight: bold; padding: 0 4px 0 4px;'>{{:textHeader}}</span>
            <span style='float: right; font-size: 14px; color: lightblue; font-weight: bold; padding: 0 4px 0 4px;'>{{:areaHeader}}</span>
        </div>
        {{for rows}}
            <div class='hierarchyRow'>
            <span class="otherExpander">
            <span style='float: right; margin-left: .5em; margin-right: .1em; font-size: 14px; vertical-align: middle'>{{:area}}</span>
            {{:text}}
            </span>
            </div>
        {{/for}}
    </div>
</script>

<script id="NFHPTableTemplate" type="text/x-jsrender">

    <div class="contextSubHeader subHeaderTitle" style=" color: rgb(204, 204, 204); line-height: 20px; font-size: 17px; margin-top: 30px; margin-left: 20px; margin-right: 20px; ">{{:title}}</div>
    <div style='font-size: 14px; color: white;'>{{:description}}</div>
  
    <table class='hierarchyTable NFHPTable' style='margin-top: 15px;'>
          <tr>  
            <th style='font-size: 12px; color: lightblue; font-weight: bold; padding: 0 4px 0 4px; border: 1px solid rgb(243, 243, 243, .5);'>{{:col0}}</th>
            <th style='font-size: 12px; color: lightblue; font-weight: bold; padding: 0 4px 0 4px; border: 1px solid rgb(243, 243, 243, .5);'>{{:col1}}</th>
            <th style='font-size: 12px; color: lightblue; font-weight: bold; padding: 0 4px 0 4px; border: 1px solid rgb(243, 243, 243, .5);'>{{:col2}}</th>
            <th style='font-size: 12px; color: lightblue; font-weight: bold; padding: 0 4px 0 4px; border: 1px solid rgb(243, 243, 243, .5);'>{{:col3}}</th>
            <th style='font-size: 12px; color: lightblue; font-weight: bold; padding: 0 4px 0 4px; border: 1px solid rgb(243, 243, 243, .5);'>{{:col4}}</th>
        </tr>
     
        {{for rows}}
            <tr>
                    <td class='NFHPChartRowHeader' colspan="5">{{:category}}</td>
            </tr>
            {{for row}}
                
                <tr>
                
                    <td class='NFHPChartRowFirst'>{{:disturbance}}</td>
                    <td class='NFHPChartRow'>{{:local_catchment}}</td>
                    <td class='NFHPChartRow'>{{:network_catchment}}</td>
                    <td class='NFHPChartRow'>{{:local_buffer}}</td>
                    <td class='NFHPChartRow'>{{:network_buffer}}</td>
                        
                </tr>
            {{/for}}
        {{/for}}
    </table>
</script>

<script id="barChartWidget" type="text/x-jsrender">
    <div id="{{: id}}" style="width: 100%; height: 400px;"></div>
    <div style="float:right">Area with no data: {{:noData}}</div>
    <div style="clear:both;"></div>
</script>

<script id="NFHPAnalysis" type="text/x-jsrender">
    <div class="nfhpBapHeader" id="{{:bapID}}BapTitle">{{:title}}</div>
    <div class="contextSubHeader subHeaderTitle" style=" color: rgb(204, 204, 204); line-height: 20px; font-size: 17px; margin-top: 30px; margin-left: 20px; margin-right: 20px; ">{{:title}}</div>
    <div id="{{: id}}" style="width: 100%; height: 400px;"></div>
    <div id="{{:noData}}" style="float:right">No Data</div>
    <div style="clear:both;"></div>
</script>